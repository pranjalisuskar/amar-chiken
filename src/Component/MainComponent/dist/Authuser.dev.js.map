{"version":3,"sources":["Authuser.js"],"names":["Authuser","navigate","getToken","tokenString","sessionStorage","getItem","userToken","JSON","parse","getUser","userString","saveToken","user","token","setItem","stringify","setToken","setUser","http","axios","create","baseURL","headers","Authorization","logout","clear"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;AACA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAEnB,MAAMC,QAAQ,GAAG,kCAAjB;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAMC,WAAW,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAApB;AACA,QAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAlB;AACA,WAAOG,SAAP;AACD,GAJD;;AAMA,MAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,QAAMC,UAAU,GAAGH,IAAI,CAACC,KAAL,CAAWJ,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAnB;AACA,WAAOK,UAAP;AACD,GAHD;;AAKA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAOC,KAAP,EAAiB;AAC/BT,IAAAA,cAAc,CAACU,OAAf,CAAuB,OAAvB,EAAgCP,IAAI,CAACQ,SAAL,CAAeF,KAAf,CAAhC;AACAT,IAAAA,cAAc,CAACU,OAAf,CAAuB,MAAvB,EAA+BP,IAAI,CAACQ,SAAL,CAAeH,IAAf,CAA/B;AACD,GAHH;;AAdmB,kBAmBM,qBAASV,QAAQ,EAAjB,CAnBN;AAAA;AAAA,MAmBZW,KAnBY;AAAA,MAmBNG,QAnBM;;AAAA,mBAoBE,qBAASP,OAAO,EAAhB,CApBF;AAAA;AAAA,MAoBdG,IApBc;AAAA,MAoBTK,OApBS;;AAqBnB,MAAMC,IAAI,GAAGC,kBAAMC,MAAN,CAAa;AAEtBC,IAAAA,OAAO,EAAE,qCAFa;AAItBC,IAAAA,OAAO,EAAE;AACP,sBAAgB,qBADT;AAEPC,MAAAA,aAAa,mBAAYV,KAAZ;AAFN;AAJa,GAAb,CAAb;;AASE,MAAMW,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBpB,IAAAA,cAAc,CAACqB,KAAf;AACAT,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAC,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAhB,IAAAA,QAAQ,CAAC,GAAD,CAAR;AAED,GAND,CA9BiB,CAsCrB;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,SAAO;AACLe,IAAAA,QAAQ,EAAEL,SADL;AAELE,IAAAA,KAAK,EAALA,KAFK;AAGLD,IAAAA,IAAI,EAAJA,IAHK;AAILM,IAAAA,IAAI,EAAJA,IAJK;AAKLM,IAAAA,MAAM,EAANA;AALK,GAAP;AAOL,CApDD;;eAsDexB,Q","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from \"axios\";\r\nimport { useNavigate } from 'react-router-dom';\r\nconst Authuser = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const getToken = () => {\r\n      const tokenString = sessionStorage.getItem(\"token\");\r\n      const userToken = JSON.parse(tokenString);\r\n      return userToken;\r\n    };\r\n  \r\n    const getUser = () => {\r\n      const userString = JSON.parse(sessionStorage.getItem(\"user\"));\r\n      return userString;\r\n    };\r\n\r\n    const saveToken = (user, token) => {\r\n        sessionStorage.setItem(\"token\", JSON.stringify(token));\r\n        sessionStorage.setItem(\"user\", JSON.stringify(user));\r\n      };\r\n\r\n    const [token,setToken] = useState(getToken());\r\n  const [user,setUser] = useState(getUser());\r\n    const http = axios.create({\r\n       \r\n        baseURL: \"http://localhost:5000/userAPI/login\",\r\n        \r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      const logout = () => {\r\n        sessionStorage.clear();\r\n        setToken(null);\r\n        setUser(null);\r\n        navigate(\"/\");\r\n    \r\n      };\r\n      \r\n  //  const logout=()=>\r\n  //  {\r\n  //   sessionStorage.clear();\r\n  //   settoken(null);\r\n  //   setuser(null);\r\n  //   Navigate('/')\r\n  //  }\r\n      return {\r\n        setToken: saveToken,\r\n        token,\r\n        user,\r\n        http,\r\n        logout,\r\n      };\r\n}\r\n\r\nexport default Authuser"],"file":"Authuser.dev.js"}